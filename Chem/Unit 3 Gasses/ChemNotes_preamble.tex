\usepackage[most]{tcolorbox}
\usepackage[top=1in,bottom=1in,right=1in,left=1in]{geometry}
\usepackage{amssymb, amsmath, changepage,pgfplots, darkmode,tabularx,siunitx}
\usepackage{array}
\usepackage{caption}
\usepackage{chemfig}
\usepackage{colortbl}
\usepackage{fullpage}
\usepackage{makecell}
\usepackage{mathpazo}
\usepackage{mdframed}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{polynom}
\usepackage{textgreek}
\usepackage{tikz-3dplot}
\usepackage{tikz}
\usepackage{ulem}

% === Enable dark mode ===
% Comment the line below to switch to light mode.
% Note that some figures will keep a dark background, I might (!) fix this issue later.
\enabledarkmode



% === Define custom color ===
\definecolor{c2c2c2c}{RGB}{44,44,44}
\definecolor{c8d354e}{RGB}{141,53,78}
\definecolor{cbada55}{RGB}{186,218,85}
\definecolor{cc9184a}{RGB}{201,24,74}
\definecolor{cff4d6d}{RGB}{255,77,109}
\definecolor{cff758f}{RGB}{255,117,143}
\definecolor{pag}{HTML}{293133}
\definecolor{pagtwo}{HTML}{3E4547}
\definecolor{red1}{HTML}{ffccd5}
\definecolor{red10}{HTML}{c9181e}
\definecolor{red11}{HTML}{c91876}
\definecolor{red12}{HTML}{e5235a}
\definecolor{red2}{HTML}{ffb3c1}
\definecolor{red3}{HTML}{ff8fa3}
\definecolor{red4}{HTML}{ff758f}
\definecolor{red5}{HTML}{ff4d6d}
\definecolor{red6}{HTML}{c9184a}
\definecolor{red7}{HTML}{a4133c}
\definecolor{red8}{HTML}{800f2f}
\definecolor{red9}{HTML}{590d22}


% === Define custom commands ===
% Text box
\newtcolorbox{qq}[2][]{%
    boxrule=0.75pt,
    sharp corners, % Square edges
    colframe=white, % Set the color of the outline
    colback=pag, % Set the color of the fill
    coltext=white,
    #1,
}

% Boltzmann constant
\def\kB{1.38e-23}

% unified atomic mass unit/Dalton (symbols: m_u or Da)
\def\mu{1.66e-27}




% === Plot settings ===
\usepgfplotslibrary{external}
\tikzexternalize
\usepgfplotslibrary{colormaps,patchplots}
\usepgfplotslibrary{fillbetween}
\usepgfplotslibrary{groupplots}
\usetikzlibrary{3d,perspective}
\usetikzlibrary{backgrounds,intersections}
\usetikzlibrary{calc,arrows.meta}
\usetikzlibrary{decorations.markings,arrows.meta,bending}
\usetikzlibrary{shadings}
\usetikzlibrary{shapes.arrows}
\tikzset{balls/.pic={
            \fill[red5!10!pag] (-.06cm,0) circle (2pt);
            \fill[red5!20!pag] (-.045cm,0) circle (2pt);
            \fill[red5!30!pag] (-.03cm,0) circle (2pt);
            \fill[red5!40!pag] (-0.015cm,0) circle (2pt);
            \fill[red5!50!pag] (0,0) circle (2pt);
            \fill[red5!60!pag] (0.015cm,0) circle (2pt);
            \fill[red5!70!pag] (.03cm,0) circle (2pt);
            \fill[red5!80!pag] (.045cm,0) circle (2pt);
            \fill[red5!90!pag] (.06cm,0) circle (2pt);}
}
\tikzset{threedballs/.pic={
            \pgfmathsetmacro{\randomIntensity}{random(3,5)} % Generates a random number between 3 and 6
            \fill [color= red\randomIntensity!20!pagtwo]  (0.002cm,0.002cm,0) circle (0.02cm);
            \fill [color= red\randomIntensity!35!pagtwo]  (0.001cm,0.001cm,0) circle (0.0225cm);
            \fill [color= red\randomIntensity!50!pagtwo]   (0,0,0) circle (0.025cm);
            \fill [color= red\randomIntensity!70!pagtwo] (-0.001cm,-0.001cm,0) circle (0.0275cm);
            \fill [color= red\randomIntensity] (-0.002cm,-0.002cm,0) circle (0.03cm);
        }}
\def\maxwellboltzmann#1{4 * pi * (\mu / (2 * pi * \kB * #1))^(3/2) * x^2 * exp(-\mu * x^2 / (2 * \kB * #1))}
\tikzset{threedballstwo/.pic={
            \pgfmathsetmacro{\randomIntensity}{random(3,5)} % Generates a random number between 3 and 6
            \fill [color= red\randomIntensity, opacity=0.2]  (0.004cm,0.004cm,0) circle (0.02cm);
            \fill [color= red\randomIntensity, opacity=0.4]  (0.002cm,0.002cm,0) circle (0.0225cm);
            \fill [color= red\randomIntensity, opacity=0.6]   (0,0,0) circle (0.025cm);
            \fill [color= red\randomIntensity, opacity=0.8] (-0.002cm,-0.002cm,0) circle (0.0275cm);
            \fill [color= red\randomIntensity] (-0.004cm,-0.004cm,0) circle (0.03cm);
        }}
\tikzset{threedballsthree/.pic={
            \pgfmathsetmacro{\randomIntensity}{random(3,5)} % Generates a random number between 3 and 6
            \fill [color= red\randomIntensity] (-0.00cm,-0.00cm,0) circle (0.07cm);
        }}

% === Fix broken canvas is xy plane at z option ===
% for more information, see: https://tex.stackexchange.com/a/48776/121799
\makeatletter
\tikzoption{canvas is xy plane at z}[]{%
    \def\tikz@plane@origin{\pgfpointxyz{0}{0}{#1}}%
    \def\tikz@plane@x{\pgfpointxyz{1}{0}{#1}}%
    \def\tikz@plane@y{\pgfpointxyz{0}{1}{#1}}%
    \tikz@canvas@is@plane}
\makeatother